{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/nsennickov/Desktop/OcinLite-Estore/src/App.js\";\nimport { React, Component } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\nimport './App.scss';\nimport Header from './Header/Header';\nimport ProductPage from \"./ProductPage/ProductPage\";\nimport allProducts from './woocomerce/database';\nimport Footer from './Footer/Footer';\nimport Cart from './Cart/Cart';\nimport MainPage from \"./MainPage\";\nimport notFound from \"./404\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: '',\n      products: [...allProducts],\n      currProdPage: null,\n      currProdPageID: null,\n      pagination: [1, 14],\n      reviews: false,\n      moneyInCart: 0,\n      cart: [],\n      cartLength: 0\n    };\n\n    this.setProxyForProducts = () => {\n      console.log('setProxyForProducts');\n      this.state.products.map(elem => {\n        console.log(elem);\n        elem = new Proxy(elem, {\n          set(target, prop, value) {\n            if (prop) {\n              console.log(`Target: ${target} prop: ${prop} and value: ${value}`);\n              target[prop] = value;\n              return true;\n            }\n          }\n\n        });\n      });\n    };\n\n    this.openProdPageHandler = id => {\n      const currentProd = this.state.products.find(elem => {\n        if (elem.id === id) {\n          return elem;\n        }\n      });\n      this.setState({\n        currProdPage: currentProd,\n        currProdPageID: currentProd.id\n      });\n    };\n\n    this.descriptionHandler = () => {\n      this.setState({\n        reviews: !this.state.reviews\n      });\n    };\n\n    this.changeNavHandler = name => {\n      if (name === 'span-home' || name === 'header') {\n        window.location.reload();\n      } else {\n        this.filterHandler(undefined, name);\n      }\n    };\n\n    this.paginationHandler = e => {\n      const standartIndex = [1, 14];\n      let page = e.target.innerHTML;\n\n      for (let i = 1; i < page; i++) {\n        standartIndex[0] += 14;\n        standartIndex[1] += 14;\n      }\n\n      this.setState({\n        pagination: standartIndex\n      });\n    };\n\n    this.filterHandler = (e, name) => {\n      console.log(e, name); //Set new title for filters\n\n      let newTitle;\n\n      if (e) {\n        newTitle = e.target.innerHTML;\n      } else {\n        newTitle = name;\n      } //Set new displays product if filters is active\n\n\n      if (newTitle !== 'All') {\n        let filteredProd = allProducts.filter(elem => {\n          if (elem.filterProps === newTitle) {\n            return elem;\n          }\n        });\n        this.setState({\n          products: filteredProd,\n          title: newTitle\n        }); //if filters no active set default page\n      } else {\n        this.setState({\n          products: allProducts,\n          title: ''\n        });\n      }\n    };\n\n    this.addToCart = (id, count = 1) => {\n      let newProdInCart = allProducts.find(elem => {\n        return elem.id === id;\n      });\n      let cart = this.state.cart;\n\n      if (!cart.includes(newProdInCart)) {\n        cart.push(newProdInCart);\n      }\n\n      newProdInCart.inCart += count;\n      let moneyInCart = 0;\n      let cartLength = 0;\n      this.state.cart.forEach(elem => {\n        moneyInCart += Number(elem.price) * Number(elem.inCart);\n        cartLength += Number(elem.inCart);\n      });\n      this.setState({\n        cart: cart,\n        moneyInCart: moneyInCart,\n        cartLength: cartLength\n      });\n    };\n\n    this.componentWillMount = () => {\n      let pathName = window.location.pathname.split('/').filter(elem => {\n        if (elem !== 'products') return elem;\n      }).join();\n\n      if (!this.state.currProdPageID && pathName) {\n        let prodToShowAfterReload = this.state.products.find(elem => {\n          if (elem.id === pathName) {\n            return elem;\n          }\n        });\n        this.setState({\n          currProdPage: prodToShowAfterReload\n        });\n      }\n\n      this.setProxyForProducts();\n    };\n  }\n\n  render() {\n    const pageCounter = Math.ceil(this.state.products.length / 14);\n    const whatPageIsActive = Math.floor(this.state.pagination[1] / 14);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        navHandl: this.changeNavHandler,\n        moneyCart: this.state.moneyInCart,\n        countProductInCart: this.state.cartLength\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          component: MainPage.bind(this, {\n            // Props for FILTERS\n            filterHandler: this.filterHandler,\n            title: this.state.title,\n            // Props for cards with product\n            products: [...this.state.products],\n            pagination: this.state.pagination,\n            openPage: this.openProdPageHandler,\n            addToCart: this.addToCart,\n            // Props for pagination\n            pageCounter: pageCounter,\n            pagiHandler: this.paginationHandler,\n            activePage: whatPageIsActive\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/products\",\n          component: ProductPage.bind(this, {\n            //Props for product page\n            props: this.state.currProdPage,\n            navHandl: this.changeNavHandler,\n            descHandler: this.descriptionHandler.bind(this),\n            reviews: this.state.reviews,\n            addToCart: this.addToCart\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/cart\",\n          component: Cart.bind(this, {\n            cart: this.state.cart\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          component: notFound\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/nsennickov/Desktop/OcinLite-Estore/src/App.js"],"names":["React","Component","Route","Switch","Header","ProductPage","allProducts","Footer","Cart","MainPage","notFound","App","state","title","products","currProdPage","currProdPageID","pagination","reviews","moneyInCart","cart","cartLength","setProxyForProducts","console","log","map","elem","Proxy","set","target","prop","value","openProdPageHandler","id","currentProd","find","setState","descriptionHandler","changeNavHandler","name","window","location","reload","filterHandler","undefined","paginationHandler","e","standartIndex","page","innerHTML","i","newTitle","filteredProd","filter","filterProps","addToCart","count","newProdInCart","includes","push","inCart","forEach","Number","price","componentWillMount","pathName","pathname","split","join","prodToShowAfterReload","render","pageCounter","Math","ceil","length","whatPageIsActive","floor","bind","openPage","pagiHandler","activePage","props","navHandl","descHandler"],"mappings":";;AAAA,SAASA,KAAT,EAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,kBAA9B;AACA,OAAO,YAAP;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,QAAP,MAAqB,OAArB;;AAGA,MAAMC,GAAN,SAAkBV,SAAlB,CAA4B;AAAA;AAAA;AAAA,SAC3BW,KAD2B,GACnB;AACPC,MAAAA,KAAK,EAAE,EADA;AAEPC,MAAAA,QAAQ,EAAE,CAAC,GAAGR,WAAJ,CAFH;AAGPS,MAAAA,YAAY,EAAE,IAHP;AAIPC,MAAAA,cAAc,EAAE,IAJT;AAKPC,MAAAA,UAAU,EAAE,CAAC,CAAD,EAAI,EAAJ,CALL;AAMPC,MAAAA,OAAO,EAAE,KANF;AAOPC,MAAAA,WAAW,EAAE,CAPN;AAQPC,MAAAA,IAAI,EAAE,EARC;AASPC,MAAAA,UAAU,EAAE;AATL,KADmB;;AAAA,SAc3BC,mBAd2B,GAcL,MAAM;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,WAAKZ,KAAL,CAAWE,QAAX,CAAoBW,GAApB,CAAwBC,IAAI,IAAI;AAC/BH,QAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;AACAA,QAAAA,IAAI,GAAG,IAAIC,KAAJ,CAAUD,IAAV,EAAgB;AACtBE,UAAAA,GAAG,CAACC,MAAD,EAASC,IAAT,EAAeC,KAAf,EAAqB;AACvB,gBAAGD,IAAH,EAAQ;AACPP,cAAAA,OAAO,CAACC,GAAR,CAAa,WAAUK,MAAO,UAASC,IAAK,eAAcC,KAAM,EAAhE;AACAF,cAAAA,MAAM,CAACC,IAAD,CAAN,GAAeC,KAAf;AACA,qBAAO,IAAP;AACA;AACD;;AAPqB,SAAhB,CAAP;AASA,OAXD;AAYA,KA5B0B;;AAAA,SA+B3BC,mBA/B2B,GA+BJC,EAAD,IAAQ;AAC7B,YAAMC,WAAW,GAAG,KAAKtB,KAAL,CAAWE,QAAX,CAAoBqB,IAApB,CAAyBT,IAAI,IAAI;AACpD,YAAGA,IAAI,CAACO,EAAL,KAAYA,EAAf,EAAkB;AACjB,iBAAOP,IAAP;AACA;AACD,OAJmB,CAApB;AAMA,WAAKU,QAAL,CAAc;AACbrB,QAAAA,YAAY,EAAEmB,WADD;AAEblB,QAAAA,cAAc,EAAEkB,WAAW,CAACD;AAFf,OAAd;AAIA,KA1C0B;;AAAA,SA4C3BI,kBA5C2B,GA4CN,MAAM;AAC1B,WAAKD,QAAL,CAAc;AACblB,QAAAA,OAAO,EAAE,CAAC,KAAKN,KAAL,CAAWM;AADR,OAAd;AAGA,KAhD0B;;AAAA,SAmD3BoB,gBAnD2B,GAmDPC,IAAD,IAAU;AAC5B,UAAGA,IAAI,KAAK,WAAT,IAAwBA,IAAI,KAAK,QAApC,EAA6C;AAC5CC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACA,OAFD,MAEK;AACJ,aAAKC,aAAL,CAAmBC,SAAnB,EAA8BL,IAA9B;AACA;AACD,KAzD0B;;AAAA,SA4D3BM,iBA5D2B,GA4DNC,CAAD,IAAO;AAC1B,YAAMC,aAAa,GAAG,CAAC,CAAD,EAAI,EAAJ,CAAtB;AACA,UAAIC,IAAI,GAAGF,CAAC,CAACjB,MAAF,CAASoB,SAApB;;AAEA,WAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGF,IAAnB,EAAyBE,CAAC,EAA1B,EAA6B;AAC5BH,QAAAA,aAAa,CAAC,CAAD,CAAb,IAAoB,EAApB;AACAA,QAAAA,aAAa,CAAC,CAAD,CAAb,IAAoB,EAApB;AACA;;AAED,WAAKX,QAAL,CAAc;AACbnB,QAAAA,UAAU,EAAE8B;AADC,OAAd;AAGA,KAxE0B;;AAAA,SA4E3BJ,aA5E2B,GA4EX,CAACG,CAAD,EAAIP,IAAJ,KAAa;AAC5BhB,MAAAA,OAAO,CAACC,GAAR,CAAYsB,CAAZ,EAAeP,IAAf,EAD4B,CAE5B;;AACA,UAAIY,QAAJ;;AACA,UAAGL,CAAH,EAAK;AACJK,QAAAA,QAAQ,GAAGL,CAAC,CAACjB,MAAF,CAASoB,SAApB;AACA,OAFD,MAEK;AACJE,QAAAA,QAAQ,GAAGZ,IAAX;AACA,OAR2B,CAW5B;;;AACM,UAAGY,QAAQ,KAAK,KAAhB,EAAsB;AAC3B,YAAIC,YAAY,GAAG9C,WAAW,CAAC+C,MAAZ,CAAmB3B,IAAI,IAAI;AAC7C,cAAGA,IAAI,CAAC4B,WAAL,KAAqBH,QAAxB,EAAiC;AAChC,mBAAOzB,IAAP;AACA;AACD,SAJkB,CAAnB;AAMS,aAAKU,QAAL,CAAc;AACtBtB,UAAAA,QAAQ,EAAEsC,YADY;AAEtBvC,UAAAA,KAAK,EAAEsC;AAFe,SAAd,EAPkB,CAW3B;AACM,OAZD,MAYK;AACV,aAAKf,QAAL,CAAc;AACbtB,UAAAA,QAAQ,EAAER,WADG;AAEbO,UAAAA,KAAK,EAAE;AAFM,SAAd;AAIA;AACD,KA1G0B;;AAAA,SA8G3B0C,SA9G2B,GA8Gf,CAACtB,EAAD,EAAKuB,KAAK,GAAC,CAAX,KAAiB;AAC5B,UAAIC,aAAa,GAAGnD,WAAW,CAAC6B,IAAZ,CAAiBT,IAAI,IAAI;AAC5C,eAAOA,IAAI,CAACO,EAAL,KAAYA,EAAnB;AACA,OAFmB,CAApB;AAIA,UAAIb,IAAI,GAAG,KAAKR,KAAL,CAAWQ,IAAtB;;AAEA,UAAG,CAACA,IAAI,CAACsC,QAAL,CAAcD,aAAd,CAAJ,EAAiC;AAChCrC,QAAAA,IAAI,CAACuC,IAAL,CAAUF,aAAV;AACA;;AAEDA,MAAAA,aAAa,CAACG,MAAd,IAAwBJ,KAAxB;AAEA,UAAIrC,WAAW,GAAG,CAAlB;AACA,UAAIE,UAAU,GAAG,CAAjB;AAEA,WAAKT,KAAL,CAAWQ,IAAX,CAAgByC,OAAhB,CAAwBnC,IAAI,IAAI;AAC/BP,QAAAA,WAAW,IAAI2C,MAAM,CAACpC,IAAI,CAACqC,KAAN,CAAN,GAAqBD,MAAM,CAACpC,IAAI,CAACkC,MAAN,CAA1C;AACAvC,QAAAA,UAAU,IAAIyC,MAAM,CAACpC,IAAI,CAACkC,MAAN,CAApB;AACA,OAHD;AAKA,WAAKxB,QAAL,CAAc;AACbhB,QAAAA,IAAI,EAAEA,IADO;AAEbD,QAAAA,WAAW,EAAEA,WAFA;AAGbE,QAAAA,UAAU,EAAEA;AAHC,OAAd;AAKA,KAxI0B;;AAAA,SA0I3B2C,kBA1I2B,GA0IN,MAAM;AAC1B,UAAIC,QAAQ,GAAGzB,MAAM,CAACC,QAAP,CAAgByB,QAAhB,CAAyBC,KAAzB,CAA+B,GAA/B,EAAoCd,MAApC,CAA2C3B,IAAI,IAAI;AAAC,YAAGA,IAAI,KAAK,UAAZ,EAAwB,OAAOA,IAAP;AAAY,OAAxF,EAA0F0C,IAA1F,EAAf;;AAEA,UAAG,CAAC,KAAKxD,KAAL,CAAWI,cAAZ,IAA8BiD,QAAjC,EAA0C;AACzC,YAAII,qBAAqB,GAAG,KAAKzD,KAAL,CAAWE,QAAX,CAAoBqB,IAApB,CAAyBT,IAAI,IAAI;AAC5D,cAAGA,IAAI,CAACO,EAAL,KAAYgC,QAAf,EAAwB;AACvB,mBAAOvC,IAAP;AACA;AACD,SAJ2B,CAA5B;AAMA,aAAKU,QAAL,CAAc;AACbrB,UAAAA,YAAY,EAAEsD;AADD,SAAd;AAGA;;AAED,WAAK/C,mBAAL;AACA,KA1J0B;AAAA;;AA6JxBgD,EAAAA,MAAM,GAAG;AAEX,UAAMC,WAAW,GAAGC,IAAI,CAACC,IAAL,CAAU,KAAK7D,KAAL,CAAWE,QAAX,CAAoB4D,MAApB,GAA6B,EAAvC,CAApB;AACA,UAAMC,gBAAgB,GAAGH,IAAI,CAACI,KAAL,CAAW,KAAKhE,KAAL,CAAWK,UAAX,CAAsB,CAAtB,IAA2B,EAAtC,CAAzB;AAEA,wBACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,8BACC,QAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,KAAKqB,gBAAvB;AACA,QAAA,SAAS,EAAE,KAAK1B,KAAL,CAAWO,WADtB;AAEA,QAAA,kBAAkB,EAAE,KAAKP,KAAL,CAAWS;AAF/B;AAAA;AAAA;AAAA;AAAA,cADD,eAKC,QAAC,MAAD;AAAA,gCAEC,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,GAAlB;AAAsB,UAAA,SAAS,EAC9BZ,QAAQ,CAACoE,IAAT,CAAc,IAAd,EAAoB;AACnB;AACDlC,YAAAA,aAAa,EAAE,KAAKA,aAFA;AAGpB9B,YAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KAHE;AAInB;AACDC,YAAAA,QAAQ,EAAE,CAAC,GAAG,KAAKF,KAAL,CAAWE,QAAf,CALU;AAMpBG,YAAAA,UAAU,EAAE,KAAKL,KAAL,CAAWK,UANH;AAOpB6D,YAAAA,QAAQ,EAAE,KAAK9C,mBAPK;AAQpBuB,YAAAA,SAAS,EAAE,KAAKA,SARI;AASnB;AACDgB,YAAAA,WAAW,EAAEA,WAVO;AAWpBQ,YAAAA,WAAW,EAAE,KAAKlC,iBAXE;AAYpBmC,YAAAA,UAAU,EAAEL;AAZQ,WAApB;AADD;AAAA;AAAA;AAAA;AAAA,gBAFD,eAoBC,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,WAAZ;AAAwB,UAAA,SAAS,EAChCtE,WAAW,CAACwE,IAAZ,CAAiB,IAAjB,EAAuB;AACtB;AACDI,YAAAA,KAAK,EAAE,KAAKrE,KAAL,CAAWG,YAFK;AAGvBmE,YAAAA,QAAQ,EAAE,KAAK5C,gBAHQ;AAIvB6C,YAAAA,WAAW,EAAE,KAAK9C,kBAAL,CAAwBwC,IAAxB,CAA6B,IAA7B,CAJU;AAKvB3D,YAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWM,OALG;AAMvBqC,YAAAA,SAAS,EAAE,KAAKA;AANO,WAAvB;AADD;AAAA;AAAA;AAAA;AAAA,gBApBD,eAgCC,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,OAAlB;AAA0B,UAAA,SAAS,EAAE/C,IAAI,CAACqE,IAAL,CAAU,IAAV,EAAgB;AACpDzD,YAAAA,IAAI,EAAE,KAAKR,KAAL,CAAWQ;AADmC,WAAhB;AAArC;AAAA;AAAA;AAAA;AAAA,gBAhCD,eAqCC,QAAC,KAAD;AAAO,UAAA,SAAS,EAAEV;AAAlB;AAAA;AAAA;AAAA;AAAA,gBArCD;AAAA;AAAA;AAAA;AAAA;AAAA,cALD,eA6CC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cA7CD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD;AAiDG;;AAnNuB;;AAsN5B,eAAeC,GAAf","sourcesContent":["import { React, Component } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\nimport './App.scss';\nimport Header from './Header/Header';\nimport ProductPage from \"./ProductPage/ProductPage\";\nimport allProducts from './woocomerce/database'\nimport Footer from './Footer/Footer'\nimport Cart from './Cart/Cart'\nimport MainPage from \"./MainPage\";\nimport notFound from \"./404\";\n\n\nclass App extends Component {\n\tstate = {\n\t\ttitle: '',\n\t\tproducts: [...allProducts],\n\t\tcurrProdPage: null,\n\t\tcurrProdPageID: null,\n\t\tpagination: [1, 14],\n\t\treviews: false,\n\t\tmoneyInCart: 0,\n\t\tcart: [],\n\t\tcartLength: 0,\n\t}\n\n\t//SET PROXY FOR VALIDATE THE MAX COUNT OF ORDER\n\tsetProxyForProducts = () => {\n\t\tconsole.log('setProxyForProducts');\n\t\tthis.state.products.map(elem => {\n\t\t\tconsole.log(elem);\n\t\t\telem = new Proxy(elem, {\n\t\t\t\tset(target, prop, value){\n\t\t\t\t\tif(prop){\n\t\t\t\t\t\tconsole.log(`Target: ${target} prop: ${prop} and value: ${value}`);\n\t\t\t\t\t\ttarget[prop] = value;\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\t\n\t// Open product page\n\topenProdPageHandler = (id) => {\n\t\tconst currentProd = this.state.products.find(elem => {\n\t\t\tif(elem.id === id){\n\t\t\t\treturn elem\n\t\t\t}\n\t\t})\n\t\t\n\t\tthis.setState({\n\t\t\tcurrProdPage: currentProd,\n\t\t\tcurrProdPageID: currentProd.id,\n\t\t})\n\t}\n\n\tdescriptionHandler = () => {\n\t\tthis.setState({\n\t\t\treviews: !this.state.reviews\n\t\t})\n\t}\n\n\t//Navigation in filters\n\tchangeNavHandler = (name) => {\n\t\tif(name === 'span-home' || name === 'header'){\n\t\t\twindow.location.reload()\n\t\t}else{\n\t\t\tthis.filterHandler(undefined, name)\n\t\t}\n\t}\n\n\t//Pagitation\n\tpaginationHandler = (e) => {\n\t\tconst standartIndex = [1, 14];\n\t\tlet page = e.target.innerHTML;\n\n\t\tfor(let i = 1; i < page; i++){\n\t\t\tstandartIndex[0] += 14;\n\t\t\tstandartIndex[1] += 14\n\t\t}\n\n\t\tthis.setState({\n\t\t\tpagination: standartIndex\n\t\t})\n\t}\n\n\n\t//Filters\n\tfilterHandler = (e, name) => {\n\t\tconsole.log(e, name);\n\t\t//Set new title for filters\n\t\tlet newTitle;\n\t\tif(e){\n\t\t\tnewTitle = e.target.innerHTML;\n\t\t}else{\n\t\t\tnewTitle = name;\n\t\t}\n\t\t\n\t\t\n\t\t//Set new displays product if filters is active\n        if(newTitle !== 'All'){\n\t\t\tlet filteredProd = allProducts.filter(elem => {\n\t\t\t\tif(elem.filterProps === newTitle){\n\t\t\t\t\treturn elem\n\t\t\t\t}\n\t\t\t})\n\n            this.setState({\n\t\t\t\tproducts: filteredProd,\n\t\t\t\ttitle: newTitle,\n\t\t\t})\n\t\t\t//if filters no active set default page\n        }else{\n\t\t\tthis.setState({\n\t\t\t\tproducts: allProducts,\n\t\t\t\ttitle: '',\n            })\n\t\t}\n\t}\n\n\n\t//CART -----------------------------------\n\taddToCart = (id, count=1) => {\n\t\tlet newProdInCart = allProducts.find(elem => {\n\t\t\treturn elem.id === id\n\t\t})\n\n\t\tlet cart = this.state.cart;\n\t\t\n\t\tif(!cart.includes(newProdInCart)){\n\t\t\tcart.push(newProdInCart)\n\t\t}\n\n\t\tnewProdInCart.inCart += count;\n\n\t\tlet moneyInCart = 0; \n\t\tlet cartLength = 0;\n\n\t\tthis.state.cart.forEach(elem => {\n\t\t\tmoneyInCart += Number(elem.price) * Number(elem.inCart)\n\t\t\tcartLength += Number(elem.inCart)\n\t\t})\n\n\t\tthis.setState({\n\t\t\tcart: cart,\n\t\t\tmoneyInCart: moneyInCart,\n\t\t\tcartLength: cartLength,\n\t\t})\n\t}\n\n\tcomponentWillMount = () => {\n\t\tlet pathName = window.location.pathname.split('/').filter(elem => {if(elem !== 'products') return elem}).join()\n\n\t\tif(!this.state.currProdPageID && pathName){\n\t\t\tlet prodToShowAfterReload = this.state.products.find(elem => {\n\t\t\t\tif(elem.id === pathName){\n\t\t\t\t\treturn elem\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tthis.setState({\n\t\t\t\tcurrProdPage: prodToShowAfterReload\n\t\t\t})\n\t\t}\n\n\t\tthis.setProxyForProducts()\n\t}\n  \n  \n    render() {\n\n\t\tconst pageCounter = Math.ceil(this.state.products.length / 14);\n\t\tconst whatPageIsActive = Math.floor(this.state.pagination[1] / 14);\n\n\t\treturn(\n\t\t\t<div className=\"App\">\n\t\t\t\t<Header navHandl={this.changeNavHandler}\n\t\t\t\tmoneyCart={this.state.moneyInCart}\n\t\t\t\tcountProductInCart={this.state.cartLength}/>\n\t\t\t\t\n\t\t\t\t<Switch>\n\t\t\t\t\t{/* ROUTE FOR SHOW DEFAUL SHOPPING PAGE (MAIN PAGE) */}\n\t\t\t\t\t<Route exact path=\"/\" component={\n\t\t\t\t\t\tMainPage.bind(this, {\n\t\t\t\t\t\t\t// Props for FILTERS\n\t\t\t\t\t\tfilterHandler: this.filterHandler, \n\t\t\t\t\t\ttitle: this.state.title,\n\t\t\t\t\t\t\t// Props for cards with product\n\t\t\t\t\t\tproducts: [...this.state.products],\n\t\t\t\t\t\tpagination: this.state.pagination,\n\t\t\t\t\t\topenPage: this.openProdPageHandler,\n\t\t\t\t\t\taddToCart: this.addToCart,\n\t\t\t\t\t\t\t// Props for pagination\n\t\t\t\t\t\tpageCounter: pageCounter,\n\t\t\t\t\t\tpagiHandler: this.paginationHandler,\n\t\t\t\t\t\tactivePage: whatPageIsActive,\n\t\t\t\t\t})} />\n\n\n\t\t\t\t\t{/* ROUTE FOR SHOW SINGLE PRODUCT PAGE */}\n\t\t\t\t\t<Route path=\"/products\" component={\n\t\t\t\t\t\tProductPage.bind(this, {\n\t\t\t\t\t\t\t//Props for product page\n\t\t\t\t\t\tprops: this.state.currProdPage,\n\t\t\t\t\t\tnavHandl: this.changeNavHandler,\n\t\t\t\t\t\tdescHandler: this.descriptionHandler.bind(this),\n\t\t\t\t\t\treviews: this.state.reviews,\n\t\t\t\t\t\taddToCart: this.addToCart,\n\t\t\t\t\t})} />\n\n\n\t\t\t\t\t{/* ROUTE FOR PAGE WITH PRODUCTS CART */}\n\t\t\t\t\t<Route exact path=\"/cart\" component={Cart.bind(this, {\n\t\t\t\t\t\tcart: this.state.cart,\n\t\t\t\t\t})}/>\n\n\t\t\t\t\t{/* ROUTE FOR 404 */}\n\t\t\t\t\t<Route component={notFound}/>\n\t\t\t\t</Switch>\n\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t)\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}